<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="1BWHOhCt_eijp5wvU_9Cvh591AfMs_im4cOLhN3wkP4"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Được ăn cả, ngã về không | The-Anh Vu-Le (Nah)</title> <meta name="author" content="The-Anh Vu-Le"> <meta name="description" content="a fake trying to be real "> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700%7CRoboto+Slab:100,300,400,500,700%7CMaterial+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%90%96&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://vltanh.github.io//blog/2020/duoc-an-ca-nga-ve-khong/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">{
      "title": "Được ăn cả, ngã về không",
      "description": "",
      "published": "January 4, 2020",
      "authors": [
        {
          "author": "The-Anh Vu-Le",
          "authorURL": "",
          "affiliations": [
            {
              "name": "",
              "url": ""
            }
          ]
        }
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">The-Anh Vu-Le (Nah)</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Được ăn cả, ngã về không</h1> <p></p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#b%E1%BB%91i-c%E1%BA%A3nh">Bối cảnh</a></div> <div><a href="#ti%E1%BA%BFp-c%E1%BA%ADn">Tiếp cận</a></div> <ul> <li><a href="#chi%E1%BA%BFn-thu%E1%BA%ADt-c%E1%BB%A7a-uy%C3%AAn">Chiến thuật của Uyên</a></li> <li><a href="#chi%E1%BA%BFn-thu%E1%BA%ADt-c%E1%BB%A7a-th%E1%BB%A9c">Chiến thuật của Thức</a></li> <li><a href="#nh%E1%BA%ADn-x%C3%A9t">Nhận xét</a></li> </ul> </nav> </d-contents> <h2 id="bối-cảnh">Bối cảnh</h2> <p>Ở một thành phố nọ có một đôi bạn thân. Tuy chơi với nhau từ bé nhưng hai người lại có tính cách khác biệt nhau, có thể nói là một trời một vực: Uyên thì đa nghi, cẩn trọng; còn Thức thì vô tư, đôi lúc đến bất cẩn.</p> <p>Cả Uyên và Thức đều mơ ước một ngày được trở thành những nhà huấn luyện Pokemon cừ khôi, nhưng cả hai đều không đủ điều kiện kinh tế để sắm bộ đồ nghề cần thiết. Hôm nay, đúng đợt khuyến mãi sốc - chỉ còn 8 đồng một bộ (tức phải <strong>cần 16 đồng</strong> cho cả hai người), thì cả hai gom góp lại cũng chỉ được <strong>có 5 đồng</strong>. Tuy nhiên, không thể bỏ lỡ cơ hội có một không hai này, cả hai tìm đến đại gia Trung để vay tiền theo đuổi ước mơ.</p> <p>Đã nghèo còn mắc cái eo, Trung tuy đại gia nhưng lại keo kiệt, còn ham thói cờ bạc. Không muốn cho Uyên hay Thức vay tiền, Trung bày ra một trò “cá cược” như sau. Ở mỗi lượt, người chơi sẽ <strong>đặt cược một số tiền</strong>, và Trung sẽ <strong>tung đồng xu</strong>. Nếu <strong>mặt ngửa</strong>, người chơi sẽ <strong>thắng được thêm số tiền đã cược</strong> (tức nhận lại 2 lần tiền cược), <strong>ngược lại</strong>, người chơi sẽ không được gì (tất nhiên là <strong>mất tiền cược</strong>).</p> <p>Thức rất hào hứng vì có cơ hội kiếm được tiền mà không phải trả lại. Còn Uyên ngay lập tức nghi ngờ đồng xu của Trung không phải đồng xu cân bằng mà nghiêng nhiều về mặt sấp. Quả thật, đồng xu của Trung chỉ có <strong>40% khả năng là ra mặt ngửa</strong>. Ngặt nỗi, với tình hình này thì chỉ cần không phải 0% thì cứ phải cố mà lấy được, Thức đã thuyết phục Uyên tham gia canh bạc bất lợi như vậy.</p> <p>Câu hỏi tiếp theo là: chiến thuật đặt cược như thế nào thì hợp lý?</p> <p>Uyên nghĩ đến một chiến thuật đơn giản: cứ <strong>đặt cược 1 đồng</strong> ở mỗi lượt và chơi tới khi phá sản (0 đồng) hoặc đến khi đạt mục tiêu (16 đồng). Thức thì nghĩ tới một chiến thuật bạo hơn: <strong>đặt cược hết toàn bộ</strong> tiền đang có ở mỗi lượt <strong>trong chừng mực của mục tiêu</strong> (ví dụ đang có 5 đồng thì đặt luôn 5 đồng nhưng nếu có 10 đồng thì chỉ đặt 6 đồng để đạt đúng mục tiêu 16 đồng nếu thắng lượt đó).</p> <p>Cả Uyên và Thức đều không rõ chiến thuật nào tốt hơn và liệu xác suất ra mặt ngửa của đồng xu có ảnh hưởng đến lựa chọn này. Đúng lúc đang băn khoăn thì anh Long từ đâu xuất hiện, đề xuất sẽ giúp hai đứa em thơ qua cơn khó khăn này. Anh Long bắt đầu diễn giải…</p> <h2 id="tiếp-cận">Tiếp cận</h2> <p>Gọi $X_t$ là số tiền Uyên và Thức có sau lượt $t$. Nhận thấy $X_t$ chỉ nhận giá trị nguyên từ $0$ tới $16$ do trò chơi kết thúc hoặc khi phá sản ($X_t = 0$) hoặc khi đạt mục tiêu ($X_t = 16$) và không chiến thuật nào cho giá trị tiền nằm ngoài khoảng đó.</p> <p>Gọi $p$ là xác suất đồng xu cho mặt ngửa. Cụ thể ở đây thì $p = 0.4$.</p> <p>Gọi $P(x, y) = P(X_t = y | X_{t-1} = x)$ là xác suất để có $y$ đồng biết ngay trước đó có $x$ đồng. Ta gọi việc này là “chuyển từ trạng thái $x$ (có $x$ đồng) sang trạng thái $y$ (có $y$ đồng)”. Ví dụ ở lượt đầu, nếu theo chiến thuật của Uyên đặt cược 1 đồng thì $P(5, 6) = p = 0.4$ (40% là thắng cược có thêm 1 đồng) và $P(5, 4) = 1 - p = 0.6$ (60% thua cược và mất tiền cược); còn theo chiến thuật của Thức đặt cược cả 5 đồng thì $P(5, 10) = 0.4$ và $P(5, 0) = 0.6$.</p> <p>Một nhận xét có thể rút ra ở đây là xác suất $P(x, y)$ không phụ thuộc số lượt đã trải qua, và cũng không phụ thuộc kết quả các lượt trước đó. Nó cũng không phụ thuộc vào giá trị $x, y$ (do chỉ phụ thuộc vào $p$) nhưng ở đây ta không cần tính chất này.</p> <p>Gọi $\mu(x)$ là xác suất để Uyên và Thức đạt mục tiêu trước khi phá sản, nếu bắt đầu với $x$ đồng. Dễ thấy, $\mu(0) = 0$ và $\mu(16) = 1$. Ở đây ta muốn so sánh $\mu(5)$ giữa hai chiến thuật, chiến thuật tốt hơn sẽ cho $\mu(5)$ lớn hơn.</p> <h3 id="chiến-thuật-của-uyên">Chiến thuật của Uyên</h3> <p>Một số điều ta biết về chiến thuật này:</p> <ul> <li>Do trò chơi kết thúc khi phá sản: $P(0, 0) = 1$</li> <li>Do trò chơi kết thúc khi đạt mục tiêu: $P(16, 16) = 1$</li> <li>Do mỗi lần chỉ đặt cược 1 đồng với xác suất thắng $p = 0.4$: $p_x = P(x, x+1) = 0.4, q_x = P(x, x-1) = 0.6, \forall x \in [1, 15]$</li> </ul> <p>Các xác suất chuyển trạng thái khác (không được nêu ở trên) đều bằng 0.</p> <p>Nhờ vào nhận xét nêu ở mục trên, ta có hệ thức:</p> \[\mu(x) = p_x \mu(x+1) + q_x \mu(x-1), \forall x \in [1, 15]\] <p>Diễn giải bằng lời, có thể hiểu hệ thức đang nói rằng: xác suất phá sản trước khi đạt mục tiêu nếu bắt đầu tại trạng thái $x$ được tính dựa trên việc có xác suất $p_x = P(x, x+1)$ ta sẽ chuyển sang trạng thái $x+1$ và lại bắt đầu từ $x+1$, tương tự có xác suất $q_x = P(x, x-1)$ ta sẽ chuyển đến $x-1$ và bắt đầu từ đó.</p> <p>Dựa vào việc $p_x + q_x = 1$, ta có:</p> \[\mu(x) = p_x \mu(x+1) + q_x \mu(x-1) + (1 - p_x - q_x) \mu(x)\] \[\Leftrightarrow \mu(x+1) - \mu(x) = \dfrac{q_x}{p_x} [\mu(x) - \mu(x-1)]\] <p>Áp dụng điều vừa chứng minh ta thấy:</p> \[\mu(x) - \mu(x-1) = \dfrac{q_{x-1}}{p_{x-1}}[\mu(x-1) - \mu(x-2)]\] <p>và cứ áp dụng tiếp tục thế với mọi $x \in [1, 15]$, ta có</p> \[\mu(x+1) - \mu(x) = \dfrac{q_x q_{x-1} ... q_1}{p_x p_{x-1} ... p_1}[\mu(1) - \mu(0)]\] <p>Đặt $\gamma_x = \dfrac{q_x q_{x-1} … q_1}{p_x p_{x-1} … p_1}, \gamma_0 = 1$ và lấy tổng hai vế từ 0 đến 15 ta có</p> \[\sum_{x=0}^{15} \mu(x+1) - \mu(x) = \sum_{x=0}^{15} \gamma_x [\mu(1) - \mu(0)]\] \[\Leftrightarrow \mu(16) - \mu(0) = \sum_{x=0}^{15} \gamma_x [\mu(1) - \mu(0)]\] <p>Nhắc lại, $\mu(0) = 0$ và $\mu(16) = 1$ nên</p> \[1 = \sum_{x=0}^{15} \gamma_x \mu(1) \Leftrightarrow \mu(1) = \dfrac{1}{\sum_{x=0}^{15} \gamma_x}\] <p>Tương tự trên nhưng chỉ lấy tổng từ 0 đến 4:</p> \[\sum_{x=0}^{4} \mu(x+1) - \mu(x) = \sum_{x=0}^{4} \gamma_x [\mu(1) - \mu(0)]\] \[\Leftrightarrow \mu(5) - \mu(0) = \sum_{x=0}^{4} \gamma_x [\mu(1) - \mu(0)]\] \[\Leftrightarrow \mu(5) = \sum_{x=0}^{4} \gamma_x \mu(1) = \dfrac{\sum_{x=0}^{4} \gamma_x}{\sum_{x=0}^{15} \gamma_x}\] <p>Để tính $\sum\gamma_x$, nhận thấy:</p> \[\dfrac{q_y}{p_y} = \dfrac{1-p}{p}, \forall y \Rightarrow \gamma_x = \left( \dfrac{1-p}{p} \right)^x \Rightarrow \sum_{x=0}^{n-1} \gamma_x = \dfrac{1-\left( \dfrac{1-p}{p} \right)^n}{1-\left( \dfrac{1-p}{p} \right)}\] <p>Áp dụng có</p> \[\mu(5) = \dfrac{1-\left( \dfrac{1-p}{p} \right)^5}{1-\left( \dfrac{1-p}{p} \right)^{16}}\] <p>Với $p = 0.4$ ta tính được $\mu(5) \approx 0.01 = 1\%$.</p> <h3 id="chiến-thuật-của-thức">Chiến thuật của Thức</h3> <p>Theo chiến thuật của Thức, diễn tiến trò chơi sẽ như sau:</p> <ul> <li>Lượt 1: đặt 5 đồng <ul> <li>Thắng: có 10 đồng</li> <li>Thua: phá sản</li> </ul> </li> <li>Lượt 2 (chỉ khi thắng 1): đặt 6 đồng <ul> <li>Thắng: đạt mục tiêu</li> <li>Thua: có 4 đồng</li> </ul> </li> <li>Lượt 3 (chỉ khi thắng 1, thua 2): đặt 4 đồng <ul> <li>Thắng: có 8 đồng</li> <li>Thua: phá sản</li> </ul> </li> <li>Lượt 4 (chỉ khi thắng 1, thua 2, thắng 3): đặt 8 đồng <ul> <li>Thắng: đạt mục tiêu</li> <li>Thua: phá sản</li> </ul> </li> </ul> <p>Trò chơi chỉ có thể kéo dài tối đa 4 lượt như thế.</p> <p>Xác suất đạt mục tiêu lúc này là tổng xác suất các trường hợp:</p> <ul> <li>Thắng 1, thắng 2</li> <li>Thắng 1, thua 2, thắng 3, thắng 4</li> </ul> <p>Như vậy xác suất đó là:</p> \[\mu(5) = p^2 + p(1-p)p^2 = 0.1984 = 19.84\%\] <h3 id="nhận-xét">Nhận xét</h3> <p>Như vậy chiến thuật của Thức hiệu quả rõ rệt so với chiến thuật của Uyên. Điều này là nằm trong dự đoán bởi vì trong tình huống trò chơi bất lợi cho mình (xác suất thắng thấp hơn) thì việc đặt cược ít sẽ làm tăng số lần chơi và sự bất lợi sẽ càng tích tụ.</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography><div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"vltanh/vltanh.github.io","data-repo-id":"R_kgDOIk7rUA","data-category":"Comments","data-category-id":"DIC_kwDOIk7rUM4CTV2c","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 The-Anh Vu-Le. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-JS11DTCF4Y"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JS11DTCF4Y");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>